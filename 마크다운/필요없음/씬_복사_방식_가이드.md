# 씬 복사 방식 가이드

Backyard 씬을 완성한 후, 다른 씬들을 만들 때 Prefab을 하나하나 배치하는 대신 **씬을 복사해서 사용하는 방법**입니다.

## 장점

✅ **시간 절약**: Prefab 배치와 참조 연결을 매번 반복할 필요 없음  
✅ **실수 방지**: 참조 연결이 이미 완료되어 있음  
✅ **일관성**: 모든 씬이 동일한 구조를 가짐  
✅ **빠른 작업**: 배경, NPC, 아이템만 교체하면 됨

## 작업 순서

### 1단계: Backyard 씬 복사

1. **Project 창에서 씬 파일 복사**
   - `Assets/Scenes/Ryu/Backyard.unity` 파일 선택
   - `Ctrl + C` (또는 우클릭 → `Copy`)
   - `Ctrl + V` (또는 우클릭 → `Paste`)
   - 복사된 파일 이름: `Backyard 1.unity`

2. **씬 파일 이름 변경**
   - 복사된 `Backyard 1.unity` 선택
   - `F2` 키를 누르거나 우클릭 → `Rename`
   - 새로운 씬 이름으로 변경:
     - `PlayersRoom.unity`
     - `Hallway.unity`
     - `LivingRoom.unity`
     - `Kitchen.unity`
     - `SiblingsRoom.unity`
     - `Basement.unity`

### 2단계: 씬 열기 및 확인

1. **씬 열기**
   - 복사한 씬 파일을 더블클릭하여 열기
   - Unity 에디터에서 씬이 로드되는지 확인

2. **기본 구조 확인**
   - Hierarchy 창에서 다음 GameObject들이 있는지 확인:
     - `GameStateManager`
     - `MainCameraWithEventSystem`
     - `GameCanvas`
     - `GameManager`
     - `ApiClient`
     - `Background`

### 3단계: 배경 이미지 교체

1. **배경 이미지 준비**
   - `Assets/Assets/Background/` 폴더에 해당 씬의 배경 이미지 저장
   - Import Settings 확인:
     - `Texture Type`: Sprite (2D and UI)
     - `Sprite Mode`: Single
     - `Pixels Per Unit`: 100

2. **Background GameObject 선택**
   - Hierarchy에서 `Background` 선택
   - Inspector 창에서 `Sprite Renderer` 컴포넌트 확인

3. **Sprite 교체**
   - Inspector의 `Sprite Renderer` 컴포넌트에서 `Sprite` 필드 찾기
   - 현재 배경 이미지를 클릭하여 선택 해제
   - Project 창에서 새로운 배경 이미지를 찾아서 드래그 앤 드롭
   - 또는 `Sprite` 필드 옆의 원형 아이콘 클릭 → 새로운 배경 이미지 선택

### 4단계: NPC 교체 (씬별로 다름)

#### NPC가 필요한 씬

**거실 (LivingRoom)**:
- 기존 NPC 삭제 (있다면)
- `Assets/Assets/Prefabs/NPCs/NPC_NewFather.prefab` 드래그 앤 드롭
- Transform 위치 조정
- SpriteRenderer의 Sprite 설정

**주방 (Kitchen)**:
- 기존 NPC 삭제 (있다면)
- `Assets/Assets/Prefabs/NPCs/NPC_NewMother.prefab` 드래그 앤 드롭
- Transform 위치 조정
- SpriteRenderer의 Sprite 설정

**동생의 놀이방 (SiblingsRoom)**:
- 기존 NPC 삭제 (있다면)
- `Assets/Assets/Prefabs/NPCs/NPC_Sibling.prefab` 드래그 앤 드롭
- Transform 위치 조정
- SpriteRenderer의 Sprite 설정

**지하실 (Basement)**:
- 기존 NPC 삭제 (있다면)
- `Assets/Assets/Prefabs/NPCs/NPC_Grandmother.prefab` 드래그 앤 드롭
- Transform 위치 조정
- SpriteRenderer의 Sprite 설정

**주인공의 방 (PlayersRoom)**:
- NPC 없음 (기존 NPC 삭제)

**복도 (Hallway)**:
- NPC 없음 또는 이동 중 NPC (기존 NPC 삭제)

**뒷마당 (Backyard)**:
- 기존 NPC 유지 (강아지)

#### NPC 삭제 방법

1. Hierarchy에서 NPC GameObject 선택
2. `Delete` 키 누르기 (또는 우클릭 → `Delete`)

### 5단계: 아이템 교체 (씬별로 다름)

#### 아이템이 필요한 씬

**주방 (Kitchen)**:
- 기존 아이템 삭제
- `Item_SleepingPill.prefab` 드래그 앤 드롭 (찬장 위치)
- `Item_EarlGreyTea.prefab` 드래그 앤 드롭 (식탁 위치)
- Transform 위치 조정
- SpriteRenderer의 Sprite 설정

**동생의 놀이방 (SiblingsRoom)**:
- 기존 아이템 삭제
- `Item_SiblingsToy.prefab` 드래그 앤 드롭
- Transform 위치 조정
- SpriteRenderer의 Sprite 설정

**지하실 (Basement)**:
- 기존 아이템 삭제
- `Item_OilBottle.prefab` 드래그 앤 드롭
- `Item_SilverLighter.prefab` 드래그 앤 드롭
- Transform 위치 조정
- SpriteRenderer의 Sprite 설정

**뒷마당 (Backyard)**:
- 기존 아이템 유지 (진짜 가족 사진)

**주인공의 방 (PlayersRoom)**:
- 아이템 없음 (기존 아이템 삭제)

**복도 (Hallway)**:
- 아이템 없음 (기존 아이템 삭제)

**거실 (LivingRoom)**:
- 아이템 없음 (기존 아이템 삭제)

#### 아이템 삭제 방법

1. Hierarchy에서 아이템 GameObject 선택
2. `Delete` 키 누르기

### 6단계: 상호작용 오브젝트 교체 (씬별로 다름)

#### 상호작용 오브젝트가 필요한 씬

**주인공의 방 (PlayersRoom)**:
- `InteractableObject.prefab` 드래그 앤 드롭
- 이름을 "EscapeHole" 또는 "개구멍"으로 변경
- Transform 위치 조정
- SpriteRenderer의 Sprite 설정
- BoxCollider2D 크기 조정

**거실 (LivingRoom)**:
- `InteractableObject.prefab` 드래그 앤 드롭 (벽난로)
- 이름을 "Fireplace"로 변경
- `InteractableObject.prefab` 드래그 앤 드롭 (라디오/TV)
- 이름을 "Radio" 또는 "TV"로 변경
- 각각 Transform 위치 조정 및 Sprite 설정

**주방 (Kitchen)**:
- `InteractableObject.prefab` 드래그 앤 드롭 (찬장)
- 이름을 "Cabinet"로 변경
- `InteractableObject.prefab` 드래그 앤 드롭 (식탁)
- 이름을 "Table"로 변경
- 각각 Transform 위치 조정 및 Sprite 설정

**동생의 놀이방 (SiblingsRoom)**:
- `InteractableObject.prefab` 드래그 앤 드롭 (인형의 집 모형)
- 이름을 "DollHouse"로 변경
- `InteractableObject.prefab` 드래그 앤 드롭 (벽장)
- 이름을 "Closet"로 변경
- 각각 Transform 위치 조정 및 Sprite 설정

**지하실 (Basement)**:
- `InteractableObject.prefab` 드래그 앤 드롭 (수술대)
- 이름을 "SurgeryTable"로 변경
- `InteractableObject.prefab` 드래그 앤 드롭 (할머니의 침대)
- 이름을 "GrandmotherBed"로 변경
- 각각 Transform 위치 조정 및 Sprite 설정

**뒷마당 (Backyard)**:
- 기존 상호작용 오브젝트 유지 (개집)

**복도 (Hallway)**:
- 상호작용 오브젝트 없음 (기존 오브젝트 삭제)

### 7단계: 씬 저장

1. `Ctrl + S` (또는 `File` → `Save`)
2. 씬이 저장되었는지 확인 (씬 이름 옆에 `*` 표시가 사라짐)

### 8단계: Build Settings에 추가

1. `File` → `Build Settings` 열기
2. 새로 만든 씬이 열려 있는지 확인
3. `Add Open Scenes` 버튼 클릭
4. 씬 목록에 추가되었는지 확인

---

## 씬별 체크리스트

### PlayersRoom (주인공의 방)
- [ ] 씬 복사 및 이름 변경 완료
- [ ] 배경 이미지 교체 완료
- [ ] NPC 삭제 완료 (NPC 없음)
- [ ] 아이템 삭제 완료 (아이템 없음)
- [ ] 상호작용 오브젝트 추가 (개구멍)
- [ ] 씬 저장 완료
- [ ] Build Settings에 추가 완료

### Hallway (복도)
- [ ] 씬 복사 및 이름 변경 완료
- [ ] 배경 이미지 교체 완료
- [ ] NPC 삭제 완료 (NPC 없음 또는 이동 중 NPC)
- [ ] 아이템 삭제 완료 (아이템 없음)
- [ ] 상호작용 오브젝트 삭제 완료
- [ ] 씬 저장 완료
- [ ] Build Settings에 추가 완료

### LivingRoom (거실)
- [ ] 씬 복사 및 이름 변경 완료
- [ ] 배경 이미지 교체 완료
- [ ] NPC 교체 완료 (새아빠)
- [ ] 아이템 삭제 완료 (아이템 없음)
- [ ] 상호작용 오브젝트 추가 (벽난로, 라디오/TV)
- [ ] 씬 저장 완료
- [ ] Build Settings에 추가 완료

### Kitchen (주방)
- [ ] 씬 복사 및 이름 변경 완료
- [ ] 배경 이미지 교체 완료
- [ ] NPC 교체 완료 (새엄마)
- [ ] 아이템 추가 완료 (수면제, 홍차)
- [ ] 상호작용 오브젝트 추가 (찬장, 식탁)
- [ ] 씬 저장 완료
- [ ] Build Settings에 추가 완료

### SiblingsRoom (동생의 놀이방)
- [ ] 씬 복사 및 이름 변경 완료
- [ ] 배경 이미지 교체 완료
- [ ] NPC 교체 완료 (동생)
- [ ] 아이템 추가 완료 (동생의 장난감)
- [ ] 상호작용 오브젝트 추가 (인형의 집 모형, 벽장)
- [ ] 씬 저장 완료
- [ ] Build Settings에 추가 완료

### Basement (지하실)
- [ ] 씬 복사 및 이름 변경 완료
- [ ] 배경 이미지 교체 완료
- [ ] NPC 교체 완료 (할머니)
- [ ] 아이템 추가 완료 (기름병, 라이터)
- [ ] 상호작용 오브젝트 추가 (수술대, 할머니의 침대)
- [ ] 씬 저장 완료
- [ ] Build Settings에 추가 완료

### Backyard (뒷마당)
- [ ] 이미 완성됨 (템플릿으로 사용)

---

## 주의사항

### 1. 씬 이름 확인
- 씬 파일 이름이 `GameLocation` enum과 정확히 일치해야 합니다
- 대소문자 구분: `PlayersRoom` (O), `playersroom` (X)

### 2. 참조 연결 확인
- 씬을 복사하면 모든 참조가 그대로 유지됩니다
- 하지만 씬을 열었을 때 참조가 끊어졌다면 다시 연결해야 합니다
- `GameManager` 선택 → Inspector에서 모든 참조 확인

### 3. Prefab 인스턴스 확인
- 복사한 씬의 Prefab 인스턴스는 파란색으로 표시됩니다
- Prefab 인스턴스를 수정하면 원본 Prefab과 연결이 끊어질 수 있습니다
- 씬별 고유 설정이 필요하면 Prefab 인스턴스를 수정해도 됩니다

### 4. 씬 저장
- 작업 중간중간 `Ctrl + S`로 저장하는 것을 권장합니다
- 씬 이름 옆에 `*` 표시가 있으면 저장되지 않은 상태입니다

---

## 작업 시간 예상

- 씬 복사 및 이름 변경: 약 1분
- 배경 이미지 교체: 약 2분
- NPC/아이템/상호작용 오브젝트 교체: 약 10~15분
- 씬 저장 및 Build Settings: 약 1분

**씬당 총 약 15~20분** (배경 이미지 준비 시간 제외)

---

## 문제 해결

### 씬 복사 후 참조가 끊어졌을 때
- `GameManager` 선택 → Inspector에서 참조 확인
- 끊어진 참조는 다시 연결 (이전 가이드 참조)

### 씬 이름이 변경되지 않을 때
- Project 창에서 씬 파일 선택
- `F2` 키를 누르거나 우클릭 → `Rename`
- Unity 에디터가 씬을 사용 중이면 먼저 다른 씬을 열어야 합니다

### Build Settings에 추가되지 않을 때
- 해당 씬을 열어야 합니다
- `File` → `Build Settings` → `Add Open Scenes`

---

**작성일**: 2025-02-11  
**최종 수정일**: 2025-02-11

